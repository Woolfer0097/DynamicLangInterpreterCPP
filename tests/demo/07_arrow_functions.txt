// Demo: Arrow Function Syntax
// Showcases concise function definitions

print "=== Arrow Functions Demo ==="

// Single-expression arrow functions
var square := func(x) => x * x
var add := func(a, b) => a + b
var greet := func(name) => "Hello, " + name + "!"

print "Arrow functions:"
print "  square(5) =", square(5)
print "  add(3, 7) =", add(3, 7)
print "  greet('World') =", greet("World")

// Arrow functions in data structures
var operations := {
    add := func(a, b) => a + b,
    multiply := func(a, b) => a * b,
    power := func(a, b) is
        var result := 1
        for i in 1..b loop
            result := result * a
        end
        return result
    end
}

print "Operations object:"
print "  add(5, 3) =", operations.add(5, 3)
print "  multiply(4, 6) =", operations.multiply(4, 6)
print "  power(2, 8) =", operations.power(2, 8)

// Arrow functions in arrays
var transformers := [
    func(x) => x * 2,
    func(x) => x + 10,
    func(x) => x * x
]

var value := 5
print "Transformers array:"
for i in 1..3 loop
    var result := transformers[i](value)
    print "  transformer[", i, "](", value, ") =", result
end

// Conditional arrow function
var max := func(a, b) => if a > b then a else b end
print "Conditional arrow:"
print "  max(10, 7) =", max(10, 7)
print "  max(3, 9) =", max(3, 9)

print "=== Demo Complete ==="

