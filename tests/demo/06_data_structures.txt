// Demo: Complex Data Structures
// Showcases arrays, maps and nested structures

print "=== Data Structures Demo ==="

var students := [
    {name := "Alice", grade := 95},
    {name := "Bob", grade := 87},
    {name := "Charlie", grade := 92}
]

print "Students array:"
for i in 1..3 loop
    print "  ", students[i].name, ":", students[i].grade
end

// Nested maps
var company := {
    name := "TechCorp",
    departments := [
        {name := "Engineering", employees := 50},
        {name := "Sales", employees := 30},
        {name := "HR", employees := 10}
    ]
}

print "Company structure:"
print "  Company:", company.name
for i in 1..3 loop
    var dept := company.departments[i]
    print "  ", dept.name, ":", dept.employees, "employees"
end

// Dynamic array operations
var matrix := []
matrix[1] := [1, 2, 3]
matrix[2] := [4, 5, 6]
matrix[3] := [7, 8, 9]

print "Matrix (sparse array of arrays):"
for i in 1..3 loop
    var row := matrix[i]
    print "  Row", i, ":", row[1], row[2], row[3]
end

print "=== Demo Complete ==="

